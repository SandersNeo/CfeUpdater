# Анализ расширения при обновлении
При доработке конфигураций, находящихся на поддержке через расширения возникают проблемы при выпуске вендором новых версий основной конфигурации.
Часть проблем можно решить используя директиву ```&ИзменениеиКонтроль```, однако при использовании директив ```&Вместо```,```&После``` и ```&Перед``` нет типовых средств позволяющих понять, а не потеряло ли расширение актуальность, не требуется ли доработка переопределенных методов.
Также типовая проверка применимости принципиально не работает с переопределенными событиями форм и их реквизитов.
<br>

Предлагаемое решение представляет собой внешнюю обработку (**CfeUpdater.epf**), позволяющую увидеть и исправить все проблемные и потенциально проблемные места в расширении, связанном с основной конфигурацией при обновлении последней на новый релиз.
<br>

Обработка использует для разбора текстов с помощью регулярных выражений внешнюю компоненту https://github.com/alexkmbk/RegEx1CAddin и работает как Windows, так и в Linux системах.
# Как пользоваться
1. Выгрузить основную конфигурацию до обновления в файлы (через конфигуратор, EDT пока не поддерживается), аналогичным образом поступить с новой конфигурацией (новый релиз обновляемой конфигурации) и собственно самим расширением.
2. Открыть в любой конфигурации, содержащей БСП в режиме 1С: Предприятия обработку CfeUpdater.epf
3. Указать в обработке путь к каталогам с выгруженными конфигурациями и расширением.
![image](https://user-images.githubusercontent.com/6578710/208846995-cb4e0472-360a-4768-99b4-14aad40945ef.png)

4. По гиперссылке Настройки указать путь к программе, позволяющей сравнивать текстовые файлы (kdiff3, P4Merge и т.п.), при необходимости прописать параметры запуска командной строки для программы сравнения ( для Kdiff3 и P4Merge параметры прописываются автоматически)
![image](https://user-images.githubusercontent.com/6578710/208847707-306bdf86-4c71-4636-9160-6247275701f1.png)
 
 5. Нажать кнопку Анализ

![image](https://user-images.githubusercontent.com/6578710/211742138-a10a7095-731f-4de6-ae29-60409fa519a5.png)

 
 6. После анализа при двойном нажатии на строке дерева анализа запустится внешняя программа сравнения, с отображением результата объединения методов или отображением изменений, если объединение недоступно ( например в новой конфигурации переопределенный метод удален)
 
![image](https://user-images.githubusercontent.com/6578710/208848342-99a0b966-c9e9-4ef5-95a1-09f07d40c29d.png)

# Ограничения
1. Анализируются исходники в формате конфигуратора (поддержка EDT возможна в будущем)
